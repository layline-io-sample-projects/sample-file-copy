{
  "@type" : "format/generic",
  "assetClass" : "format",
  "assetType" : "generic",
  "uuid" : "3f1fb8a9-2351-48de-ba16-e809c82d391b",
  "name" : "LineOrientedFile",
  "definition" : [
    "format {",
    "  name = \"LineOrientedFile\"",
    "  description = \"Sample format to read a line oriented file\"",
    "",
    "  start-element = \"File\"",
    "  target-namespace = \"Layline.Formats.LineOrientedFile\"",
    "",
    "  elements = [",
    "    // ### File sequence ###",
    "",
    "    {",
    "      name = \"File\"",
    "      type = \"Sequence\"",
    "      references = [",
    "        {",
    "          name = \"Lines\"",
    "          min-occurs = 0",
    "          max-occurs = \"unlimited\"",
    "          referenced-element = \"Line\"",
    "        }",
    "      ]",
    "    },",
    "",
    "    // ### Line record ###",
    "    {",
    "      name = \"Line\"",
    "      type = \"MultiPart\"",
    "      regular-expression = \"[\\\\x00-\\\\xFF]\"",
    "",
    "      mapping = {",
    "        message = \"Detail\"",
    "        element = \"Line\"",
    "      }",
    "",
    "      parts = [",
    "        {",
    "          name = \"Data\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \".*\"",
    "          value.type = \"Text.String\"",
    "        },",
    "        {",
    "          name = \"EoL\"",
    "          type = \"RegExpr\"",
    "          regular-expression = \"(\\r?\\n)?\"",
    "          value = {",
    "            type = \"Text.String\"",
    "          }",
    "        }",
    "      ]  ",
    "    }  ",
    "  ]",
    "}"
  ]
}